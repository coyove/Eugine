def map (f, list) => {
	for list do (elem, i) =>{
		list[i] = f(elem)
	}

	list
}

(def utils() => {
	def this.deepCompareList(list1, list2) =>
		if len(list1) != len(list2) 
			false
		else {
			var ret = true

			for list1 do (elem, i) => {
				if typeof(elem) == "List" && typeof(list2[i]) == "List"
					ret = _this_.deepCompareList(elem, list2[i])
				else
					ret = elem == list2[i]
			}

			ret
		} 

	var _this_ = this
})()

(def debug() => {
	var totalPassed = 0
	var totalFailed = 0
	var startTime = 0

	def this.start() => {
		Log.info("==== Debug Started ====")
		startTime = Time.unix(0)
	}

	def this.assert (result, text) =>
		if result { 
			totalPassed++
			Log.info("[  OK  ] ", text)
		} else {
			totalFailed++
			Log.warn("[FAILED] ", text)
		}

	def this.summary() => 
		Log.info("Finish", totalFailed + totalPassed, "tests in", Time.unix(0) - startTime ,"ms,", 
			totalFailed, "fails")
})()