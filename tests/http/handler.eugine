(struct HTTP-Handler "handler"
	[::index := (lambda (context)
		(context::write-common 200 @html)
		(context::write "\r\n")
		(context::write "index page")
		(context::close ())
	)]

	[::post := (lambda (context)
	    (println context::cookies)
		(context::write-common 200 @plain)
		(context::write-cookie "name" "zzz" (dict ("Expires" 86400)))

		(context::write "\r\n")

		(context::write "post" [context::post : @name])
		(context::close ())
	)]

	[::not-found := (lambda (context)
		(context::write-common 404 @html)
		(context::write "\r\n")
		(context::write "404 Page Not Found")
		(context::close ())
	)]

	[::forbidden := (lambda (context)
		(context::write-common 403 @html)
		(context::write "\r\n")
		(context::write "403 Forbidden")
		(context::close ())
	)]
)